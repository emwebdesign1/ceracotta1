<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="admin.title">Admin – Céracotta</title>
  <link rel="stylesheet" href="/css/index.css" />
     <link rel="icon" href="images/logo.png" type="image/x-icon" />
  <link rel="stylesheet" href="/css/admin.css" />
<meta http-equiv="Content-Security-Policy" 
content="
default-src 'self' data: blob: https://js.stripe.com https://fonts.googleapis.com https://fonts.gstatic.com https://demo-ceracotta.com https://backend-ceracotta.onrender.com;
connect-src 'self' https://backend-ceracotta.onrender.com https://demo-ceracotta.com https://api.stripe.com;
img-src 'self' data: blob: https://demo-ceracotta.com https://backend-ceracotta.onrender.com https://*.stripe.com;
script-src 'self' 'unsafe-inline' 'unsafe-eval' https://demo-ceracotta.com https://js.stripe.com;
style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
font-src 'self' data: https://fonts.gstatic.com;">


</head>

<body class="page-admin">
  <header>
    <div class="header-left">
      <div class="hamburger" id="hamburger" aria-label="Menu" role="button" tabindex="0">
        <span></span><span></span><span></span>
      </div>
    </div>
    <div class="header-center">
      <a href="index.html" class="logo-link">
        <img src="images/logo.png" alt="Logo Céracotta" class="logo-image" />
      </a>
    </div>
    <div class="header-right">
      <a href="#" id="open-compte" class="icon-link" aria-label="Mon compte">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#7f0000" viewBox="0 0 24 24" width="22" height="22">
          <path
            d="M12 2a6 6 0 1 0 0 12A6 6 0 0 0 12 2Zm0 10a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5Zm8 6H4v-1c0-1.5 4-3 8-3s8 1.5 8 3v1Z" />
        </svg>
      </a>
      <a href="#" id="open-favoris" class="icon-link" aria-label="Favoris">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart">
          <path
            d="M20.84 4.61a5.5 5.5  0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 
            5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78
            1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
        </svg>
        <span id="fav-badge">0</span>
      </a>
      <a href="#" id="open-panier" class="icon-link" aria-label="Panier" style="position: relative;">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#7f0000" viewBox="0 0 24 24" width="22" height="22">
          <path
            d="M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM6.2 14l-.94-2H20a1 1 0 0 0 .96-.74l2-7A1 1 0 0 0 22 3H5.21l-.38-1.11A1 1 0 0 0 4 1H1v2h2.34l3.6 10.84A1 1 0 0 0 8 15h12v-2H6.2Z" />
        </svg>
        <span id="cart-badge" class="cart-badge"></span>
      </a>
    </div>

    <nav id="side-menu" aria-label="Navigation principale">
      <ul>
        <li><a href="index.html" data-i18n="menu.home">Accueil</a></li>
        <li class="dropdown">
          <a href="#" id="collections-link" data-i18n="menu.collections">Collections</a>
          <ul class="dropdown-list">
            <li><a href="vaisselle.html" data-i18n="menu.vaisselle">Vaisselle</a></li>
            <li><a href="vases.html" data-i18n="menu.vases">Vases</a></li>
          </ul>
        </li>
        <li><a href="apropos.html" data-i18n="menu.about">À propos</a></li>
      </ul>

    </nav>
    <div class="overlay" id="overlay"></div>
  </header>

  <main class="ad-shell">
    <aside class="ad-menu">
      <h1 data-i18n="admin.titlemenu">Administration</h1>
      <button class="ad-tab is-active" data-view="orders" data-i18n="admin.orders">Commandes</button>
      <button class="ad-tab" data-view="products" data-i18n="admin.products">Produits</button>
      <button class="ad-tab" data-view="users" data-i18n="admin.users">Utilisateurs</button>
      <button class="ad-tab" data-view="settings" data-i18n="admin.settings">Paramètres</button>
      <button class="ad-tab" data-view="stats" data-i18n="admin.stats">Statistiques</button>
      <button class="ad-tab" data-view="surveys" data-i18n="admin.surveys">Sondages</button>
    </aside>

    <section class="ad-content">
      <div id="msg" class="muted"></div>

      <!-- COMMANDES -->
      <section class="card view" id="view-orders">
        <div class="toolbar">
          <h2 data-i18n="admin.allorders">Toutes les commandes</h2>
        </div>
        <table id="ordersTable" class="table">
          <thead>
            <tr>
              <th data-i18n="table.date">Date</th>
              <th data-i18n="table.order">Commande</th>
              <th data-i18n="table.client">Client</th>
              <th data-i18n="table.address">Adresse</th>
              <th data-i18n="table.items">Articles</th>
              <th data-i18n="table.amount">Montant</th>
              <th data-i18n="table.payment">Paiement</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- PRODUITS -->
      <section class="card view" id="view-products" hidden>
        <div class="toolbar">
          <h2 data-i18n="admin.products">Produits</h2>
          <div class="search">
            <input id="prodSearch" type="search" placeholder="Rechercher un produit…" />
            <button id="prodRefresh" class="btn" data-i18n="btn.refresh">Rafraîchir</button>
          </div>
        </div>
        <table id="productsTable" class="table">
          <thead>
            <tr>
              <th data-i18n="table.title">Titre</th>
              <th>Slug</th>
              <th data-i18n="table.price">Prix</th>
              <th data-i18n="table.stock">Stock</th>
              <th data-i18n="table.category">Catégorie</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- UTILISATEURS -->
      <section class="card view" id="view-users" hidden>
        <div class="toolbar">
          <h2 data-i18n="admin.users">Utilisateurs</h2>
          <div class="search">
            <input id="userSearch" type="search" placeholder="Rechercher un utilisateur…" />
            <button id="userRefresh" class="btn" data-i18n="btn.refresh">Rafraîchir</button>
          </div>
        </div>
        <table id="usersTable" class="table">
          <thead>
            <tr>
              <th data-i18n="table.name">Nom</th>
              <th data-i18n="table.email">Email</th>
              <th data-i18n="table.phone">Téléphone</th>
              <th data-i18n="table.role">Rôle</th>
              <th data-i18n="table.address">Adresse</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- PARAMÈTRES -->
      <section class="card view" id="view-settings" hidden>
        <h2 data-i18n="admin.accountsettings">Paramètres du compte</h2>

        <div class="grid" style="grid-template-columns:1fr 1fr; gap:20px;">
          <!-- Profil -->
          <form id="formProfile" class="card" style="padding:16px">
            <h3 data-i18n="admin.myprofile">Mon profil</h3>
            <label><span data-i18n="field.firstname">Prénom</span><input id="setFirstName" placeholder="Prénom"></label>
            <label><span data-i18n="field.lastname">Nom</span><input id="setLastName" placeholder="Nom"></label>
            <label><span data-i18n="field.phone">Téléphone</span><input id="setPhone" placeholder="+41 ..."></label>
            <label><span data-i18n="field.email">Email</span><input id="setEmail" type="email" placeholder="email@exemple.com"></label>
            <div class="actions">
              <button type="submit" class="btn primary" data-i18n="btn.save">Enregistrer le profil</button>
            </div>
          </form>

          <!-- Mot de passe -->
          <form id="formPassword" class="card" style="padding:16px">
            <h3 data-i18n="admin.changepass">Changer le mot de passe</h3>
            <label><span data-i18n="field.oldpass">Mot de passe actuel</span><input id="pwdCurrent" type="password" placeholder="••••••••" required></label>
            <label><span data-i18n="field.newpass">Nouveau mot de passe</span><input id="pwdNew" type="password" placeholder="••••••••" required></label>
            <label><span data-i18n="field.confirmpass">Confirmer</span><input id="pwdNew2" type="password" placeholder="••••••••" required></label>
            <div class="actions">
              <button type="submit" class="btn danger" data-i18n="btn.changepass">Mettre à jour le mot de passe</button>
            </div>
          </form>
        </div>
      </section>

      <!-- STATISTIQUES -->
      <section class="card view" id="view-stats" hidden>
        <div class="toolbar">
          <h2 data-i18n="admin.stats">Statistiques</h2>
          <div class="search">
            <input id="statsFrom" type="date" />
            <input id="statsTo" type="date" />
            <button id="statsRefresh" class="btn" data-i18n="btn.refresh">Actualiser</button>
          </div>
        </div>

        <div class="grid" id="kpiCards" style="grid-template-columns: repeat(4, 1fr);">
          <div class="kpi card">
            <h3>Visiteurs</h3>
            <div class="kpi-val" id="kpiVisitors">—</div>
          </div>
          <div class="kpi card">
            <h3>Sessions</h3>
            <div class="kpi-val" id="kpiSessions">—</div>
          </div>
          <div class="kpi card">
            <h3>Conversion</h3>
            <div class="kpi-val" id="kpiCVR">—</div>
          </div>
          <div class="kpi card">
            <h3>CA</h3>
            <div class="kpi-val" id="kpiRevenue">—</div>
          </div>
        </div>

        <hr class="sep" />

        <div class="card">
          <h3>Funnel</h3>
          <div id="funnel" class="funnel">
            <div class="step"><span>Vues produit</span><strong id="fvViews">—</strong></div>
            <div class="step"><span>Add to Cart</span><strong id="fvATC">—</strong></div>
            <div class="step"><span>Checkout</span><strong id="fvCheckout">—</strong></div>
            <div class="step"><span>Achat</span><strong id="fvPurchase">—</strong></div>
          </div>
        </div>

        <hr class="sep" />

        <div class="card">
          <h3>Top produits</h3>
          <table id="topProductsTable" class="table">
            <thead>
              <tr>
                <th>Produit</th>
                <th>Vues</th>
                <th>ATC</th>
                <th>Achats</th>
                <th>Favoris</th>
                <th>Revenu</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- SONDAGES -->
      <section class="card view" id="view-surveys" hidden>
        <div class="toolbar">
          <h2 data-i18n="admin.surveys">Sondages</h2>
          <button id="survRefresh" class="btn" data-i18n="btn.refresh">Rafraîchir</button>
        </div>

        <div class="grid" style="grid-template-columns: repeat(4, 1fr);">
          <div class="kpi card"><h3>Total</h3><div class="kpi-val" id="svTotal">—</div></div>
          <div class="kpi card"><h3>Mugs</h3><div class="kpi-val" id="svMugs">—</div></div>
          <div class="kpi card"><h3>Assiettes</h3><div class="kpi-val" id="svPlates">—</div></div>
          <div class="kpi card"><h3>Bols</h3><div class="kpi-val" id="svBowls">—</div></div>
        </div>

        <hr class="sep" />

        <table id="surveysTable" class="table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Choix</th>
              <th>Autre (texte)</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </section>
  </main>

  <script src="js/tracker.js" type="module"></script>
  <script type="module" src="/js/pages/admin.page.js"></script>
  <script type="module" src="/js/boot.js"></script>


  <!-- SIDE PANELS -->
  <div id="panel-compte" class="side-panel">
    <button class="close-btn">&times;</button>
    <h2>Mon compte</h2>
    <form>
      <label>Email</label>
      <input type="email" placeholder="Votre email">
      <label>Mot de passe</label>
      <input type="password" placeholder="Votre mot de passe">
      <button type="submit">Connexion</button>
      <p class="alt-action">Pas encore inscrit ? <a href="register.html">Créer un compte</a></p>
    </form>
  </div>
  <div id="panel-favoris" class="side-panel">
    <button class="close-btn">&times;</button>
  </div>
  <div id="panel-panier" class="side-panel">
    <button class="close-btn">&times;</button>
    <h2>Votre panier</h2>
    <p>Votre panier est vide.</p>
  </div>

  
  <button id="logoutBtn" class="fab-logout" type="button" data-i18n="btn.logout">Déconnexion</button>
</body>

</html>
